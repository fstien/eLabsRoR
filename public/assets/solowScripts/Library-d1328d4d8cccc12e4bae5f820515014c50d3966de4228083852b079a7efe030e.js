function Graph(t,e,a,n){var o,i,s=1/a,r=padding.left,c=padding.top+ID.height,h=graphScale,l=Math.round(ID.width/s),d=0;context1.beginPath(),context1.lineWidth=n,context1.strokeStyle=e;for(var v=d;l>=v;v++)o=s*v,i=h*t(o/h),c-i>padding.top&&(v==d?context1.moveTo(r+o,c-i):context1.lineTo(r+o,c-i));context1.stroke()}function showAxes(){var t=padding.left,e=(context1.canvas.width,padding.top+ID.height),a=(context1.canvas.height,ID.axesNegative?0:t);context1.beginPath(),context1.lineWidth="0",context1.fillStyle="#FDFDFD",context1.fillRect(plotX(0),plotY(1),plotX(1)-padding.left,plotX(1)-padding.left),context1.stroke(),context1.closePath(),context1.beginPath(),context1.strokeStyle=ID.axesColor,context1.lineWidth=lineWidth.axes,context1.lineCap="round",context1.moveTo(a,e),context1.lineTo(padding.left+ID.width,e),context1.moveTo(t,padding.top),context1.lineTo(t,e),context1.stroke()}function dottedIndex(){context1.strokeStyle=grey(color.g2),context1.lineWidth=1,context1.setLineDash(desktop?[10,8]:[5,4]),context1.beginPath(),inter.b.x<max.x&&(inter.b.y<max.y?(context1.moveTo(plotX(inter.b.x),padding.top+ID.height),context1.lineTo(plotX(inter.b.x),plotY(inter.b.y))):(context1.moveTo(plotX(inter.b.x),padding.top+ID.height),context1.lineTo(plotX(inter.b.x),padding.top))),inter.b.y<max.y&&(inter.b.x<max.x?(context1.moveTo(padding.left,plotY(inter.b.y)),context1.lineTo(plotX(inter.b.x),plotY(inter.b.y))):(context1.moveTo(padding.left,plotY(inter.b.y)),context1.lineTo(canvasGraph.width/GraphCanvasDisplayRatio-padding.right,plotY(inter.b.y)))),inter.a.y<max.y&&(inter.b.x<max.x?(context1.moveTo(padding.left,plotY(inter.a.y)),context1.lineTo(plotX(inter.a.x),plotY(inter.a.y))):(context1.moveTo(padding.left,plotY(inter.a.y)),context1.lineTo(canvasGraph.width/GraphCanvasDisplayRatio-padding.right,plotY(inter.a.y)))),context1.stroke(),context1.closePath(),context1.setLineDash(desktop?[1e3,1]:[1])}function unitIndex(t){textSize=1.5*lineWidth.graph,textSize>18&&(textSize=18),textString=textSize+"px Helvetica",context1.beginPath(),context1.strokeStyle=grey(color.g2),context1.lineWidth=t,context1.beginPath(),context1.moveTo(plotX(t),padding.top+ID.height),context1.lineTo(plotX(t),plotY(t)),context1.lineTo(padding.left,plotY(t)),context1.stroke(),context1.closePath(),context1.beginPath(),context1.font=textString,context1.fillStyle=grey(color.g2),context1.strokeStyle=grey(color.g2),(plotX(inter.b.x)<plotX(1)-textSize||plotX(inter.b.x)>plotX(1)+textSize)&&context1.fillText("1",plotX(1)-textSize/3,canvasGraph.height/GraphCanvasDisplayRatio-padding.bottom+lineWidth.graph/2+1.4*textSize),inter.b.x<max.x&&(xIndexShift=getlength(Math.round(round10fixed(inter.b.x)))<=2?0:getlength(Math.round(round10fixed(inter.b.x)))-2,context1.fillText(round10fixed(inter.b.x),plotX(inter.b.x)-textSize/1.6-xIndexShift*textSize/4,canvasGraph.height/GraphCanvasDisplayRatio-padding.bottom+lineWidth.graph/2+1.4*textSize)),(plotY(inter.b.y)<plotY(1)-textSize||plotY(inter.b.y)>plotY(1)+textSize)&&(plotY(inter.a.y)<plotY(1)-textSize||plotY(inter.a.y)>plotY(1)+textSize)&&context1.fillText("1",padding.left-lineWidth.graph/2-1.4*textSize,plotY(1)+textSize/2.5),inter.b.y<max.y&&(yIndexShift1=getlength(Math.round(round10fixed(inter.b.y)))<=2?0:getlength(Math.round(round10fixed(inter.b.y)))-2,context1.fillText(round10fixed(inter.b.y),padding.left-lineWidth.graph/2-2*textSize-yIndexShift1*textSize/4,plotY(inter.b.y)+textSize/2.5)),inter.a.y<max.y&&inter.a.y+textSize/v.unit<inter.b.y&&(yIndexShift2=getlength(Math.round(round10fixed(inter.a.y)))<=2?0:getlength(Math.round(round10fixed(inter.a.y)))-2,context1.fillText(round10fixed(inter.a.y),padding.left-lineWidth.graph/2-2*textSize-yIndexShift2*textSize/4,plotY(inter.a.y)+textSize/2.5)),context1.stroke(),context1.closePath()}function getlength(t){return t.toString().length}function resizecanvasGraph(){canvasLogic.width=canvasGraph.width/GraphCanvasDisplayRatio,canvasLogic.height=canvasGraph.height/GraphCanvasDisplayRatio,desktop?($("#container").height($(window).height()-menuHeight),divGraph.width=myLayout.center.state.layoutWidth,divGraph.height=$("#container").height(),ratio.div=divGraph.height/divGraph.width):(divGraph.width=$(window).width(),divGraph.height=600,ratio.div=divGraph.height/divGraph.width),divGraph.width>sizeLimit.width&&divGraph.height>sizeLimit.height&&(ratio.div>ratio.canvasGraph&&(canvasLogic.width=divGraph.width,ID.width=divGraph.width-(padding.left+padding.right),ID.height=ratio.curves*ID.width,canvasLogic.height=ID.height+(padding.top+padding.bottom),graphScale=ID.height*ID.scale/10),ratio.div<ratio.canvasGraph&&(canvasLogic.height=divGraph.height,ID.height=divGraph.height-(padding.top+padding.bottom),ID.width=ID.height/ratio.curves,canvasLogic.width=ID.width+(padding.left+padding.right),graphScale=ID.height*ID.scale/10),desktop&&(marginTop=(divGraph.height-canvasLogic.height)/2,$("#canvasGraph").css("margin-top",marginTop))),oldWidth=canvasLogic.width,oldHeight=canvasLogic.height,canvasGraph.width=oldWidth*GraphCanvasDisplayRatio,canvasGraph.height=oldHeight*GraphCanvasDisplayRatio,canvasGraph.style.width=oldWidth+"px",canvasGraph.style.height=oldHeight+"px",context1.scale(GraphCanvasDisplayRatio,GraphCanvasDisplayRatio),lineWidth.axes=Math.round(Math.sqrt(ID.width*ID.lineBasis/10)),lineWidth.graph=Math.round(Math.sqrt(ID.width*ID.lineBasis*ID.lineGraphRatio/10))}function resizecanvasControls(){for(containerWidth=desktop?myLayout.east.state.layoutWidth:$(window).width(),canvasControls.width=containerWidth*GraphCanvasDisplayRatio2,ControlCanvasLogic.width=canvasControls.width/GraphCanvasDisplayRatio2,oldWidth2=ControlCanvasLogic.width,canvasControls.width=oldWidth2*GraphCanvasDisplayRatio2,canvasControls.height=ControlCanvasLogic.height*GraphCanvasDisplayRatio2,canvasControls.style.width=oldWidth2+"px",canvasControls.style.height=ControlCanvasLogic.height+"px",context2.scale(GraphCanvasDisplayRatio2,GraphCanvasDisplayRatio2),i=0;i<buttons.length;i++)buttons[i].X=containerWidth/(buttons.length+1)*(i+1);for(textHeight=$(window).height()-$("#text").offset().top,$("#text").height(textHeight),i=0;i<=2;i++)icon.ZoomIn.x=canvasControls.width/GraphCanvasDisplayRatio2-canvasControls.height/GraphCanvasDisplayRatio2*structure.iconPadding,icon.ZoomIn.y=canvasControls.height/GraphCanvasDisplayRatio2*structure.iconPadding,icon.ZoomOut.x=canvasControls.width/GraphCanvasDisplayRatio2-canvasControls.height/GraphCanvasDisplayRatio2*structure.iconPadding,icon.ZoomOut.y=canvasControls.height/GraphCanvasDisplayRatio2*(1-structure.iconPadding),icon.refresh.x=canvasControls.width/GraphCanvasDisplayRatio2-2.35*(canvasControls.height/GraphCanvasDisplayRatio2)*structure.iconPadding,icon.refresh.y=canvasControls.height/GraphCanvasDisplayRatio2*structure.iconPadding,structure.ratio=(icon.refresh.x-canvasControls.height/GraphCanvasDisplayRatio2*structure.iconPadding*.5)/(canvasControls.width/GraphCanvasDisplayRatio2),buttons[butArray[i]].X=canvasControls.width/GraphCanvasDisplayRatio2*structure.ratio*(1-2*structure.buttonPadding)*i/2+structure.buttonPadding*(canvasControls.width/GraphCanvasDisplayRatio2)*structure.ratio,buttons[butArray[i]].Y=(canvasControls.height/GraphCanvasDisplayRatio2-buttons[butArray[i]].H)*structure.verticalRatio}function whiteRefresh(){context1.beginPath(),context1.fillStyle="white",context1.fillRect(0,0,canvasGraph.width,canvasGraph.height)}function whiteRefresh2(){context2.beginPath(),context2.fillStyle="white",context2.fillRect(0,0,canvasControls.width,canvasControls.height)}function unitFunc(){return padding.top+ID.height-graphScale}function round10fixed(t){var e=1;return t>=10&&(e=0),(Math.round(10*t)/10).toFixed(e)}function round100fixed(t){var e=2;return t>=10&&(e=1),t>=100&&(e=0),(Math.round(100*t)/100).toFixed(e)}function round10(t){return(Math.round(10*t)/10).toFixed(1)}function round100(t){return(Math.round(100*t)/100).toFixed(2)}function round10000(t){return Math.round(1e4*t)/1e4}function getMousePos(t,e){var a=t.getBoundingClientRect();return{x:Math.round(e.clientX-a.left),y:Math.round(e.clientY-a.top)}}function rgbToHex(t,e,a){if(t>255||e>255||a>255)throw"Invalid color component";return(t<<16|e<<8|a).toString(16)}function Point(t,e,a,n){context1.fillStyle=a||"black",context1.beginPath(),context1.arc(t,e,n,0,2*Math.PI,!0),context1.fill()}function plotX(t){return t*key*v.unit+padding.left}function plotY(t){return canvasGraph.height/GraphCanvasDisplayRatio-padding.bottom-t*key*v.unit}function plotRX(t){return(t-padding.left)/(key*v.unit)}function plotRY(t){return(canvasGraph.height/GraphCanvasDisplayRatio-padding.bottom-t)/(key*v.unit)}function graphX(t){return t-padding.left}function graphY(t){return canvasGraph.height-padding.bottom-t}function bTop(t,e){return e.x>t.X-t.W&&e.x<t.X+t.W&&e.y>t.Y&&e.y<t.Y+(1-t.ratio1)/2*t.H}function bBot(t,e){return e.x>t.X-t.W&&e.x<t.X+t.W&&e.y<t.Y+t.H&&e.y>t.Y+t.H-(1-t.ratio1)/2*t.H}function bMid(t,e){return e.x>t.X-t.W&&e.x<t.X+t.W&&e.y>t.Y+(1-t.ratio1)/2*t.H&&e.y<t.Y+t.H-(1-t.ratio1)/2*t.H}function buttonPosUpdate(){buttons.s.topD=bTop(buttons.s,m.c.pos)&&v.savings<1&&hypoInter.a.savings.increase.x<max.x&&hypoInter.b.savings.increase.y<max.y?!0:!1,buttons.s.botD=bBot(buttons.s,m.c.pos)&&v.savings>0?!0:!1,buttons.d.topD=bTop(buttons.d,m.c.pos)&&v.dep<1?!0:!1,buttons.d.botD=bBot(buttons.d,m.c.pos)&&v.dep>0&&hypoInter.a.depreciation.decrease.x<max.x&&hypoInter.b.depreciation.decrease.y<max.y?!0:!1,buttons.t.topD=bTop(buttons.t,m.c.pos)&&v.tech<v.t.max&&hypoInter.b.technology.increase.y<max.y&&hypoInter.a.technology.increase.x<max.x?!0:!1,buttons.t.botD=bBot(buttons.t,m.c.pos)&&v.tech>0?!0:!1,buttons.s.midD=bMid(buttons.s,m.c.pos)?!0:!1,buttons.d.midD=bMid(buttons.d,m.c.pos)?!0:!1,buttons.t.midD=bMid(buttons.t,m.c.pos)?!0:!1}function buttonTouchPosUpdate(){buttons.s.topM=bTop(buttons.s,m.c.touch)&&v.savings<1&&hypoInter.a.savings.increase.x<max.x&&hypoInter.b.savings.increase.y<max.y?!0:!1,buttons.s.botM=bBot(buttons.s,m.c.touch)&&v.savings>0?!0:!1,buttons.d.topM=bTop(buttons.d,m.c.touch)&&v.dep<1?!0:!1,buttons.d.botM=bBot(buttons.d,m.c.touch)&&v.dep>0&&hypoInter.a.depreciation.decrease.x<max.x&&hypoInter.b.depreciation.decrease.y<max.y?!0:!1,buttons.t.topM=bTop(buttons.t,m.c.touch)&&v.tech<v.t.max&&hypoInter.b.technology.increase.y<max.y&&hypoInter.a.technology.increase.x<max.x?!0:!1,buttons.t.botM=bBot(buttons.t,m.c.touch)&&v.tech>0?!0:!1}function rescale(){rescaleRefreshAllow&&(inter.a.x>max.x&&inter.b.y<max.y&&(scaleSize=max.x/inter.a.x>scaleSize?max.x/inter.a.x:maxScale,scaleT=scaleSize*max.x/inter.a.x*ID.scale),inter.b.y>max.y&&inter.a.x<max.x&&(scaleSize=max.y/inter.a.y>scaleSize?max.y/inter.b.y:maxScale,scaleT=scaleSize*max.y/inter.b.y*ID.scale),inter.b.y>max.y&&inter.a.x>max.x&&(inter.b.y-max.y>inter.a.x-max.x?scaleT=scaleSize*max.y/inter.b.y*ID.scale:(max.x/inter.a.x>scaleSize?(scaleSize=max.y/inter.a.y>scaleSize?max.y/inter.b.y:maxScale,scaleSize=max.x/inter.a.x):scaleSize=maxScale,scaleT=scaleSize*max.x/inter.a.x*ID.scale)),scaleStart=ID.scale,scaleDistance=scaleT-ID.scale,scaleStartTime=Date.now(),duration=400,scaleSwitch=!0,$("body").css("cursor","auto"))}function refresh(){scaleT=v.IDscaleSave,scaleStart=ID.scale,scaleDistance=v.IDscaleSave-ID.scale,scaleStartTime=Date.now(),duration=400,scaleSwitch=!0,rescaleRefreshAllow=!1,setTimeout(function(){rescaleRefreshAllow=!0},ease.shift.speed+10),alphaRefresh=v.a.save-v.alpha,easeInit(v.a.shift,v.alpha,alphaRefresh),savingsRefresh=v.s.save-v.savings,easeInit(v.s.shift,v.savings,savingsRefresh),depRefresh=v.d.save-v.dep,easeInit(v.d.shift,v.dep,depRefresh),ARefresh=v.t.save-v.tech,easeInit(v.t.shift,v.tech,ARefresh)}function scaleStatus(){return inter.b.x>max.x||inter.b.y>max.y||inter.b.x>max.x||inter.b.y>max.y}function drawButton(t,e,a,n,o,i,s,r,c,h,l,d,v,p,u,x,g){var f=(1-d)/2*o;context2.beginPath(),context2.lineCap="square",context2.fillStyle=r,context2.strokeStyle=r,context2.lineWidth=i,context2.moveTo(t,e),context2.quadraticCurveTo(t+n,e+(1-p)*f,t+n,e+f),context2.quadraticCurveTo(t,e+(1-v)*f,t-n,e+f),context2.quadraticCurveTo(t-n,e+(1-p)*f,t,e),context2.fill(),context2.closePath(),context2.stroke(),context2.beginPath(),context2.lineCap="square",context2.fillStyle=c,context2.strokeStyle=c,context2.lineWidth=i,context2.moveTo(t,e+o),context2.quadraticCurveTo(t+n,e+o-(1-p)*f,t+n,e+o-f),context2.quadraticCurveTo(t,e+o-(1-v)*f,t-n,e+o-f),context2.quadraticCurveTo(t-n,e+o-(1-p)*f,t,e+o),context2.fill(),context2.closePath(),context2.stroke(),context2.beginPath(),context2.globalAlpha=s,context2.fillStyle=l,context2.strokeStyle=l,context2.lineWidth=.1,context2.moveTo(t-n,e+o-f),context2.quadraticCurveTo(t,e+o-(1-v)*f,t+n,e+o-f),context2.lineTo(t+n,e+o-f-g*(o-2*f)),context2.lineTo(t-n,e+o-f-g*(o-2*f)),context2.lineTo(t-n,e+o-f),context2.fill(),context2.closePath(),context2.stroke(),context2.globalAlpha=1,context2.beginPath(),context2.lineCap="square",context2.strokeStyle=h,context2.lineWidth=1,context2.moveTo(t,e),context2.quadraticCurveTo(t+n,e+(1-p)*f,t+n,e+f),context2.moveTo(t,e),context2.quadraticCurveTo(t-n,e+(1-p)*f,t-n,e+f),context2.moveTo(t-n,e+f),context2.lineTo(t-n,e+o-f),context2.moveTo(t+n,e+f),context2.lineTo(t+n,e+o-f),context2.moveTo(t,e+o),context2.quadraticCurveTo(t+n,e+o-(1-p)*f,t+n,e+o-f),context2.moveTo(t,e+o),context2.quadraticCurveTo(t-n,e+o-(1-p)*f,t-n,e+o-f),context2.moveTo(t,e+o),context2.closePath(),context2.stroke(),context2.beginPath(),context2.lineCap="square",context2.strokeStyle=h,context2.lineWidth=i,context2.moveTo(t-n,e+f),context2.lineTo(t-n,e+o-f),context2.moveTo(t+n,e+f),context2.lineTo(t+n,e+o-f),context2.closePath(),context2.stroke(),context2.font=o/2*x+"px "+u,context2.fillStyle=grey(color.g3),context2.textAlign="center",context2.textBaseline="middle",context2.fillText(a,t+1,e+o/2),context2.textAlign="start",context2.textBaseline="alphabetic"}function hypoUpdate(){hypoInter.a.savings.increase.x=round10000(Math.pow(v.dep/((v.savings+ease.shift.savingsRatio*ease.shift.size)*v.tech),1/(v.alpha-1))),hypoInter.a.savings.increase.y=round10000((v.savings+ease.shift.savingsRatio*ease.shift.size)*v.tech*Math.pow(v.dep/((v.savings+ease.shift.savingsRatio*ease.shift.size)*v.tech),v.alpha/(v.alpha-1))),hypoInter.a.savings.decrease.x=round10000(Math.pow(v.dep/((v.savings-ease.shift.savingsRatio*ease.shift.size)*v.tech),1/(v.alpha-1))),hypoInter.a.savings.decrease.y=round10000((v.savings-ease.shift.savingsRatio*ease.shift.size)*v.tech*Math.pow(v.dep/((v.savings-ease.shift.savingsRatio*ease.shift.size)*v.tech),v.alpha/(v.alpha-1))),hypoInter.b.savings.increase.x=round10000(Math.pow(v.dep/((v.savings+ease.shift.savingsRatio*ease.shift.size)*v.tech),1/(v.alpha-1))),hypoInter.b.savings.increase.y=round10000(v.tech*Math.pow(v.dep/((v.savings+ease.shift.savingsRatio*ease.shift.size)*v.tech),v.alpha/(v.alpha-1))),hypoInter.b.savings.decrease.x=round10000(Math.pow(v.dep/((v.savings-ease.shift.savingsRatio*ease.shift.size)*v.tech),1/(v.alpha-1))),hypoInter.b.savings.decrease.y=round10000(v.tech*Math.pow(v.dep/((v.savings-ease.shift.savingsRatio*ease.shift.size)*v.tech),v.alpha/(v.alpha-1))),hypoInter.a.depreciation.increase.x=round10000(Math.pow((v.dep+ease.shift.size)/(v.savings*v.tech),1/(v.alpha-1))),hypoInter.a.depreciation.increase.y=round10000(v.savings*v.tech*Math.pow((v.dep+ease.shift.size)/(v.savings*v.tech),v.alpha/(v.alpha-1))),hypoInter.a.depreciation.decrease.x=round10000(Math.pow((v.dep-ease.shift.size)/(v.savings*v.tech),1/(v.alpha-1))),hypoInter.a.depreciation.decrease.y=round10000(v.savings*v.tech*Math.pow((v.dep-ease.shift.size)/(v.savings*v.tech),v.alpha/(v.alpha-1))),hypoInter.b.depreciation.increase.x=round10000(Math.pow((v.dep+ease.shift.size)/(v.savings*v.tech),1/(v.alpha-1))),hypoInter.b.depreciation.increase.y=round10000(v.tech*Math.pow((v.dep+ease.shift.size)/(v.savings*v.tech),v.alpha/(v.alpha-1))),hypoInter.b.depreciation.decrease.x=round10000(Math.pow((v.dep-ease.shift.size)/(v.savings*v.tech),1/(v.alpha-1))),hypoInter.b.depreciation.decrease.y=round10000(v.tech*Math.pow((v.dep-ease.shift.size)/(v.savings*v.tech),v.alpha/(v.alpha-1))),hypoInter.a.technology.increase.x=round10000(Math.pow(v.dep/(v.savings*(v.tech+v.tech*ease.shift.proportionA)),1/(v.alpha-1))),hypoInter.a.technology.increase.y=round10000(v.savings*(v.tech+v.tech*ease.shift.proportionA)*Math.pow(v.dep/(v.savings*(v.tech+v.tech*ease.shift.proportionA)),v.alpha/(v.alpha-1))),hypoInter.a.technology.decrease.x=round10000(Math.pow(v.dep/(v.savings*(v.tech-v.tech*ease.shift.proportionA)),1/(v.alpha-1))),hypoInter.a.technology.decrease.y=round10000(v.savings*(v.tech-v.tech*ease.shift.proportionA)*Math.pow(v.dep/(v.savings*(v.tech-v.tech*ease.shift.proportionA)),v.alpha/(v.alpha-1))),hypoInter.b.technology.increase.x=round10000(Math.pow(v.dep/(v.savings*(v.tech+v.tech*ease.shift.proportionA)),1/(v.alpha-1))),hypoInter.b.technology.increase.y=round10000((v.tech+v.tech*ease.shift.proportionA)*Math.pow(v.dep/(v.savings*(v.tech+v.tech*ease.shift.proportionA)),v.alpha/(v.alpha-1))),hypoInter.b.technology.decrease.x=round10000(Math.pow(v.dep/(v.savings*(v.tech-v.tech*ease.shift.proportionA)),1/(v.alpha-1))),hypoInter.b.technology.decrease.y=round10000((v.tech-v.tech*ease.shift.proportionA)*Math.pow(v.dep/(v.savings*(v.tech-v.tech*ease.shift.proportionA)),v.alpha/(v.alpha-1)))}function yellowBox(){context1.strokeStyle="yellow",context1.lineWidth=1,context1.rect(padding.left,padding.top,ID.width,ID.height),context1.stroke()}function controlsYellowBox(){context2.strokeStyle="red",context2.lineWidth=1,context2.rect(controlPadding.left,controlPadding.top,canvasControls.width-(controlPadding.left+controlPadding.right),canvasControls.height-(controlPadding.top+controlPadding.bottom)),context2.stroke()}function redBox(){context1.strokeStyle="red",context1.lineWidth=1,context1.rect(2,2,canvasGraph.width-5,canvasGraph.height-5),context1.stroke()}function easeOutCubic(t,e,a,n){return t/=n,t--,a*(t*t*t+1)+e}function easeOutQuint(t,e,a,n){return t/=n,t--,a*(t*t*t*t*t*t*t+1)+e}function easeInit(t,e,a){t.startTime=Date.now(),t.sStart=e,t.distance=a,t["switch"]=!0}function easeControl(t,e){t.Large?t.easeLarge===!1&&(t.easeLarge=!0,easeLine(t,e,"IN")):t.easeLarge&&(t.easeLarge=!1,easeLine(t,e,"OUT"))}function easeLine(t,e,a){t.startTime=Date.now(),t.startValue=e,"IN"===a?(t.shiftSize=ease.lineWidth.size-e,t.switch1=!0,t.switch2=!1):(t.shiftSize=-e+1,t.switch1=!1,t.switch2=!0)}function lineEaseLoop(t,e){t.switch1&&(t.currentTime=Date.now(),t.clockTime=t.currentTime-t.startTime,"savings"===e&&(v.s.lineRatio=easeOutQuint(t.clockTime,t.startValue,t.shiftSize,ease.lineWidth.duration),t.clockTime>ease.lineWidth.duration&&(t.switch1=!1,v.s.lineRatio=t.startValue+t.shiftSize)),"dep"===e&&(v.d.lineRatio=easeOutQuint(t.clockTime,t.startValue,t.shiftSize,ease.lineWidth.duration),t.clockTime>ease.lineWidth.duration&&(t.switch1=!1,v.d.lineRatio=t.startValue+t.shiftSize)),"tech"===e&&(v.t.lineRatio=easeOutQuint(t.clockTime,t.startValue,t.shiftSize,ease.lineWidth.duration),t.clockTime>ease.lineWidth.duration&&(t.switch1=!1,v.t.lineRatio=t.startValue+t.shiftSize))),t.switch2&&(t.currentTime=Date.now(),t.clockTime=t.currentTime-t.startTime,"savings"===e&&(v.s.lineRatio=easeOutQuint(t.clockTime,t.startValue,t.shiftSize,ease.lineWidth.duration),t.clockTime>ease.lineWidth.duration&&(t.switch1=!1,v.s.lineRatio=t.startValue+t.shiftSize)),"dep"===e&&(v.d.lineRatio=easeOutQuint(t.clockTime,t.startValue,t.shiftSize,ease.lineWidth.duration),t.clockTime>ease.lineWidth.duration&&(t.switch1=!1,v.d.lineRatio=t.startValue+t.shiftSize)),"tech"===e&&(v.t.lineRatio=easeOutQuint(t.clockTime,t.startValue,t.shiftSize,ease.lineWidth.duration),t.clockTime>ease.lineWidth.duration&&(t.switch1=!1,v.t.lineRatio=t.startValue+t.shiftSize)))}function rgbString(t){return"rgb("+t.r+","+t.g+","+t.b+")"}function colorString(t){return 0===t.r&&0===t.g||t.r===t.g>0&&255===t.b?"blue":0===t.g&&0===t.b||255===t.r&&t.g===t.b>0?"red":0===t.r&&0===t.b||255===t.g&&t.r===t.b>0?"green":t.r===t.b&&0===t.g||t.r===t.b===255?"violet":t.r===t.g&&0===t.b||t.r===t.g===255?"yellow":t.g===t.b&&0===t.r||t.g===t.b===255?"cyan":t.r===t.g===t.b?"grey":"Color not recognised."}function convertSym(t){var e=t;return e=e.replace("\u03b1","&alpha;"),e=e.replace("\u03b4","&delta;")}function dragUpdate(t,e,a,n){v[t]=round10000(e),v[t]>a?v[t]=a:v[t]<0&&(v[t]=0),document.getElementById(t+"Input").value=v[t],n&&(v[v.property(v.index(t)+4)].clickBonus=v.bonusSize)}function shiftEaseLoop(t,e,a,n){v[t].shift.current=now-v[t].shift.startTime,v[e]=document.getElementById(e+"Input").value=easeOutCubic(v[t].shift.current,v[t].shift.sStart,v[t].shift.distance,ease.shift.speed),v[e]>=n&&(document.getElementById(e+"Input").value=v[e]=n),v[e]<=a&&(document.getElementById(e+"Input").value=v[e]=0),v[t].shift.current>=ease.shift.speed&&(v[t].shift["switch"]=!1),desktop&&buttonPosUpdate(),scaleStatus()&&rescale()}function equationHover(){$("#EqProdtech").mouseover(function(){v.t.EqProd=round10(v.tech),$("#EqProdtech").css({"font-size":font.equation.basis*font.equation.L})}),$("#EqProdtech").mouseout(function(){setTimeout(function(){v.t.EqProd=" A ",$("#EqProdtech").css({"font-size":font.equation.basis*font.equation.L})},ease.equation.hoverSpeed)}),$("#EqProdalpha").mouseover(function(){v.a.EqProd=round100(v.alpha),$("#EqProdalpha").css({"font-size":font.equation.basis*font.equation.XS})}),$("#EqProdalpha").mouseout(function(){setTimeout(function(){v.a.EqProd="&alpha;",$("#EqProdalpha").css({"font-size":font.equation.basis})},ease.equation.hoverSpeed)}),$("#EqSSsavings").mouseover(function(){v.s.EqSS=round100(v.savings),v.t.EqSS="A",$("#EqSSsavings").css({"font-size":font.equation.basis*font.equation.S})}),$("#EqSSsavings").mouseout(function(){v.s.EqSS="s ",v.t.EqSS="A ",$("#EqSSsavings").css({"font-size":font.equation.basis*font.equation.XL}),$("#EqSStech").mouseover(function(){v.t.EqSS=round10(v.tech),v.s.EqSS="s",$("#EqSStech").css({"font-size":font.equation.basis*font.equation.L})})}),$("#EqSStech").mouseover(function(){v.t.EqSS=round10(v.tech),v.s.EqSS="s",$("#EqSStech").css({"font-size":font.equation.basis*font.equation.L})}),$("#EqSStech").mouseout(function(){v.t.EqSS=" A ",$("#EqSStech").css({"font-size":font.equation.basis*font.equation.XL})}),$("#EqSSalpha").mouseover(function(){v.a.EqSS=round100(v.alpha),$("#EqSSalpha").css({"font-size":font.equation.basis*font.equation.XS})}),$("#EqSSalpha").mouseout(function(){setTimeout(function(){v.a.EqSS="&alpha; ",$("#EqSSalpha").css({"font-size":font.equation.basis})},ease.equation.hoverSpeed)}),$("#EqSSdep").mouseover(function(){v.d.EqSS=round100(v.dep),$("#EqSSdep").css({"font-size":font.equation.basis})}),$("#EqSSdep").mouseout(function(){setTimeout(function(){v.d.EqSS=" &delta; ",$("#EqSSdep").css({"font-size":font.equation.basis*font.equation.XL})},ease.equation.hoverSpeed)})}function equationUpdate(){v.t.lineRatio>(ease.lineWidth.size-1)*ease.equation.updateRatio+1&&m.alphaHover===!1?(v.t.EqProd=v.t.EqSS=round10(v.tech),$("#EqProdtech").css({"font-size":font.equation.basis*font.equation.L}),$("#EqSStech").css({"font-size":font.equation.basis*font.equation.L})):(v.t.EqProd=" A ",v.t.EqSS=" A ",$("#EqProdtech").css({"font-size":font.equation.basis*font.equation.XL}),$("#EqSStech").css({"font-size":font.equation.basis*font.equation.XL})),v.t.lineRatio>(ease.lineWidth.size-1)*ease.equation.updateRatio+1&&m.alphaHover?(v.a.EqProd=round100(v.alpha),$("#EqProdalpha").css({"font-size":font.equation.basis*font.equation.XS}),$("#EqSSalpha").css({"font-size":font.equation.basis*font.equation.XS})):(v.a.EqProd="&alpha;",$("#EqProdalpha").css({"font-size":font.equation.basis}),$("#EqSSalpha").css({"font-size":font.equation.basis})),v.s.lineRatio>(ease.lineWidth.size-1)*ease.equation.updateRatio+1?(v.s.EqSS=round100(v.savings),v.t.EqSS="A",$("#EqSSsavings").css({"font-size":font.equation.basis*font.equation.S})):(v.s.EqSS="s",$("#EqSSsavings").css({"font-size":font.equation.basis*font.equation.XL})),v.a.EqSS=v.t.lineRatio>(ease.lineWidth.size-1)*ease.equation.updateRatio+1&&m.alphaHover?round100(v.alpha):"&alpha; ",v.d.lineRatio>(ease.lineWidth.size-1)*ease.equation.updateRatio+1?(v.d.EqSS=round100(v.dep),$("#EqSSdep").css({"font-size":font.equation.basis})):(v.d.EqSS=" &delta; ",$("#EqSSdep").css({"font-size":font.equation.basis*font.equation.XL}))}function curveHoverLineEase(t,e){v[t].lineEasing.Large=m.g.stringColor===v[t].color.string||m.g.stringColor===v[e].string?!0:!1}function buttonListener(t,e,a){buttons[t].topD&&(easeInit(v[t].shift,e,a),buttons[t].colorTop=color.g3,title.upgradeStatus(window.location.pathname+"-"+v.property(v.index(t)-4)+"-increase",v.fullName(v.property(v.index(t)-4))+"-increase")),buttons[t].botD&&(easeInit(v[t].shift,e,-1*a),buttons[t].colorBottom=color.g3,title.upgradeStatus(window.location.pathname+"-"+v.property(v.index(t)-4)+"-decrease",v.fullName(v.property(v.index(t)-4))+"-decrease")),buttons[t].midD&&title.upgradeStatus(window.location.pathname+"-"+v.property(v.index(t)-4),v.fullName(v.property(v.index(t)-4)))}function buttonTouch(t,e,a){buttons[t].topM&&(easeInit(v[t].shift,e,a),buttons[t].colorTop=color.g3),buttons[t].botM&&(easeInit(v[t].shift,e,-1*a),buttons[t].colorBottom=color.g3)}function grey(t){return"rgb("+Math.round((100-t)/100*255)+","+Math.round((100-t)/100*255)+","+Math.round((100-t)/100*255)+")"}function ajax(t,e){document.getElementById("textDiv").scrollTop=0,ajaxStatus!==t&&($("#textDiv").html(""),$.ajax({url:t,success:function(t){function a(e){setTimeout(function(){$("#textDiv").append('<p class="textPara">'+t[e]+"</p>")},e*ajaxSpeed/t.length)}for(i=0;i<=t.length-1;i++)a(i);setTimeout(function(){$(".tooltipClass").tooltip()},ajaxSpeed*t.length+10),window.location.hash=e},error:function(){$("#textDiv").html("<br>Apologies, our servers have failed to load this content.")}}),ajaxStatus=t)}function dragTitle(t){refValue*(1+text.curvePad)<v[t]?title.setTransStatus(text[t].increase):refValue*(1-text.curvePad)>v[t]&&title.setTransStatus(text[t].decrease)}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,20)}}();var xIndexShift,yIndexShift1,yIndexShift2,marginTop,oldWidth,oldHeight,graphScale,key,oldWidth2,containerWidth,textHeight,scaleStart,scaleDistance,duration,scaleStartTime,scaleTime,scaleClock,scaleSwitch=!1,scaleSize=.75,maxScale=.8,alphaRefresh,savingsRefresh,depRefresh,ARefresh,rescaleRefreshAllow=!0,ajaxStatus,ajaxSpeed=200;